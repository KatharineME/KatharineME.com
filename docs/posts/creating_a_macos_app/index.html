<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Katharine Medetgul-Ernar">
    <meta name="description" content="https://katharineme.com/">
    <meta name="keywords" content="blog,developer,personal">

    <meta property="og:site_name" content="The Art of Genome Analysis">
    <meta property="og:title" content="
  Creating a MacOS App - The Art of Genome Analysis
">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://katharineme.com/posts/creating_a_macos_app/">
    <meta property="og:image" content="https://katharineme.com/">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="https://katharineme.com/posts/creating_a_macos_app/">
    <meta name="twitter:image" content="https://katharineme.com/">

    <base href="https://katharineme.com/posts/creating_a_macos_app/">
    <title>
  Creating a MacOS App - The Art of Genome Analysis
</title>

    <link rel="canonical" href="https://katharineme.com/posts/creating_a_macos_app/">
    
    <link  rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700">
    <link rel="stylesheet" href="/css/normalize.min.css">
    <link rel="stylesheet" href="/css/style.min.css">

    

    

    <link rel="icon" type="image/png" href="/images/favicon.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon.png" sizes="16x16">

    
      <link rel="alternate" href="https://katharineme.com/index.xml" type="application/rss+xml" title="The Art of Genome Analysis">
      <link href="https://katharineme.com/index.xml" rel="feed" type="application/rss+xml" title="The Art of Genome Analysis" />
    

    <meta name="generator" content="Hugo 0.90.0" />
  </head>

  <body class="">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">The Art of Genome Analysis</a>
    <input type="checkbox" id="menu-control"/>
    <label class="menu-mobile  float-right " for="menu-control">
      <span class="btn-mobile  float-right ">&#9776;</span>
      <ul class="navigation-list">
        
          
            <li class="navigation-item  align-center ">
              <a class="navigation-link" href="https://katharineme.com/posts">Posts</a>
            </li>
          
        
        
      </ul>
    </label>
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
  <article>
    <header>
      <h1 class="title">Creating a MacOS App</h1>
      <h2 class="date">October 5, 2021</h2>

      
    </header>

    <h2 id="but-first-what-the-hell-is-a-dylib">But first, what the hell is a .dylib?</h2>
<p>If you are building an app, I&rsquo;m sorry but you cannot escape learning about .dylibs.</p>
<p>dylib = dynamic library.</p>
<p>The goal of dynamic libraries is to reduce the launch time and memory use of an app.</p>
<p>A dynamic library can be directly contrasted with a static library. A static library is a library that is copied into an app&rsquo;s executable file. The upsides of using static libraries are: 1) The app becomes robust and less likely to break, and 2) the app is faster at runtime because all the dependent libraries have already been compiled. The downsides are: 1) the app&rsquo;s executable becomes large, and 2) when a static library is updated, the app executable needs to be rebuilt with the new version of the static library.</p>
<p>Dynamic libraries are separate files and do not become part of the app&rsquo;s executable file. Instead the app carries dynamic library references. When the app is run, a link is established between the app and the actual dynamic libraries. The upsides are 1) the app&rsquo;s executable is smaller, and 2) apps automatically use and benefit from any upates to the dyanmic libraries. The downside is that the app is less robust.</p>
<p>A dynamic library is called and activated based on its software language and operating system (OS).</p>
<p>More Reading</p>
<ul>
<li><a href="https://medium.com/@StueyGK/static-libraries-vs-dynamic-libraries-af78f0b5f1e4">https://medium.com/@StueyGK/static-libraries-vs-dynamic-libraries-af78f0b5f1e4</a></li>
<li><a href="https://developer.apple.com/library/archive/documentation/DeveloperTools/Conceptual/DynamicLibraries/100-Articles/OverviewOfDynamicLibraries.html">https://developer.apple.com/library/archive/documentation/DeveloperTools/Conceptual/DynamicLibraries/100-Articles/OverviewOfDynamicLibraries.html</a></li>
</ul>
<h2 id="how-to-distribute-an-app">How to Distribute an App</h2>
<p>Assuming that the app is already made and is self-contained, you can either distribute it via the Mac App Store, or outside of it. If outside the MacApp Store, you need a way to help users install the app. To do this, you can use a .dmg or a .pkg.</p>
<h4 id="what-is-a-dmg">What is a .dmg?</h4>
<p>DMG stands for disk image file and is used to install software but can contain any type of file. A dmg doesn&rsquo;t know whats inside of it. For example, you could make a dmg for a single text file, and that dmg would place the text file in the Applications folder for example. A .dmg is usually used when a simple copy to the Applications folder is needed for example.</p>
<h4 id="what-is-a-pkg">What is a .pkg?</h4>
<p>PKG are macOS installation packages which contain installer scripts and compressed installation files that are used to install Mac software. A .pkg knows the files iside of it. A .pkg has instructions for how the software it carries should be installed. When you click on a .pkg, the os will follow the instructions. A .pkg can install files in different locations. Generally, people will use a .pkg instead of a .dmg when they need to include installer scripts.</p>
<h4 id="what-is-a-flat-package">What is a Flat Package?</h4>
<p>&ldquo;Flat Package&rdquo; is usually how people refer to a .pkg which installs some kind of application. Flat packages are xar archives. You can use <code>pkgutil --expand</code> to open the content of a flat package, and <code>pkgutil --flatten</code> to recreate the .pkg. Flat packages can be a product archive or a component package.</p>
<p>A product archive is a meta-package containing one or more component packages with an XML file specifying the installer behavior. The command line tool <code>productbuild</code> can create product archives.</p>
<p>A component package is an installer that installs one component. It can be included as a part of a product archive, or can be an installer on its own.</p>
<p>More Reading</p>
<ul>
<li><a href="https://matthew-brett.github.io/docosx/flat_packages.html">https://matthew-brett.github.io/docosx/flat_packages.html</a></li>
</ul>
<h2 id="submitting-an-app-to-the-app-store">Submitting an App to the App Store</h2>
<p><img src="/images/app_store.png" alt="app store"></p>
<p>Before getting into the step by step process, you need to know the following about submitting an app to the app store:</p>
<ul>
<li>The first step is applying the the Apple Developer Program and it takes months to be approved</li>
<li>Apps needs to be submitted through Xcode</li>
<li>Two potentially helpful video tutorials if questions come up:
<ul>
<li><a href="https://www.youtube.com/watch?v=fXeDe9tafG8">https://www.youtube.com/watch?v=fXeDe9tafG8</a></li>
<li><a href="https://www.youtube.com/watch?v=fXeDe9tafG8&amp;t=84s">https://www.youtube.com/watch?v=fXeDe9tafG8&amp;t=84s</a></li>
</ul>
</li>
</ul>
<h4 id="1-enroll-in-apple-developer-program">1. Enroll in Apple Developer Program</h4>
<ul>
<li><a href="https://developer.apple.com/programs/">https://developer.apple.com/programs/</a></li>
</ul>
<h4 id="2-setup-apple-developer-account">2. Setup Apple Developer Account</h4>
<ul>
<li>Sign all contracts in App Store Connect under &ldquo;Agreements, Tax and Banking&rdquo;</li>
</ul>
<h4 id="3-create-an-xcode-project">3. Create an Xcode Project</h4>
<h4 id="4-register-bundle-id-on-app-store-connect">4. Register Bundle ID on App Store Connect</h4>
<ul>
<li>Go to Xcode, in your app project go to Signing &amp; Capabilities, click on Capabilities, search for In-App Purchase, and it should automatically create a provising profile/bundle id. Go back to App Store Connect and youn should see your app under the Identifiers section.</li>
</ul>
<h4 id="5-create-a-new-app-in-app-store-connect">5. Create a New App in App Store Connect</h4>
<ul>
<li>Go to My Apps &gt; add an app &gt; check macOS &gt; etc.</li>
</ul>
<h4 id="6-add-app-icon-set-to-app-project-in-xcode">6. Add App Icon Set to App Project in Xcode</h4>
<ul>
<li><a href="https://appicon.co">https://appicon.co</a></li>
</ul>
<h4 id="7-add-version-and-build-number-in-xcode">7. Add Version and Build Number in Xcode</h4>
<h4 id="8-add-your-apple-id-under-xcodepreferencesaccounts">8. Add Your Apple ID Under Xcode/Preferences/Accounts</h4>
<h4 id="9-test-app-in-xcode-simulator">9. Test App in Xcode simulator</h4>
<h4 id="10-archive-the-project">10. Archive the Project</h4>
<ul>
<li>Select the correct device</li>
<li>Go to Product &gt; Archive</li>
</ul>
<h4 id="11-validate-app">11. Validate App</h4>
<ul>
<li>In Xcode go to Archives and click Validate App</li>
<li>Keep default values</li>
<li>Select automatically manage signing</li>
<li>It may take some time</li>
<li>It will say validation was successful in the end</li>
</ul>
<h4 id="12-distribute-app">12. Distribute App</h4>
<p>This basically uploads the app to App Store Connect.</p>
<ul>
<li>In Xcode got to Archives and click Distribute App</li>
<li>Select App Store COnnect</li>
<li>Select Upload</li>
<li>Keep defaults</li>
<li>Select Automatically manage signing</li>
<li>Then an Upload progress bar should appear</li>
<li>In the end it will say sucessfuly uploaded</li>
</ul>
<h4 id="13-check-testflight-in-app-store-connect">13. Check TestFlight in App Store Connect</h4>
<ul>
<li>Go to App Store Connect and in the dropdown select TestFlight</li>
<li>It will say the app is processing</li>
</ul>
<h4 id="14-select-the-build-to-be-reviewed">14. Select the Build To Be Reviewed</h4>
<h4 id="15-submit-for-review">15. Submit for Review</h4>

  </article>

  <br/>
  
</section>

      </div>
      
    </main>

    

  <script src="/js/app.js"></script>
  
  </body>
</html>
